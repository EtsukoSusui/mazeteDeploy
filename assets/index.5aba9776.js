var ce=Object.defineProperty,de=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var ae=(t,s,i)=>s in t?ce(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i,Y=(t,s)=>{for(var i in s||(s={}))ge.call(s,i)&&ae(t,i,s[i]);if(se)for(var i of se(s))me.call(s,i)&&ae(t,i,s[i]);return t},Z=(t,s)=>de(t,he(s));import{u as q,a as V,r,v as pe,b,j as o,c as e,A as _e,T as fe,d as ve,e as be,F as ue,M as re,B as P,f as Ce,g as ye,h as Fe,R as Se,i as H,k as we,l as Ee}from"./vendor.d6a204af.js";const Ae=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))g(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const v of u.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&g(v)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerpolicy&&(u.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?u.credentials="include":c.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function g(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}};Ae();const T="https://mazete-api-dev.pechakucha.ai",Ne=ve({stringify:t=>t.kana+t.label});function xe(){const[t,s]=r.exports.useState([0,0]);return r.exports.useLayoutEffect(()=>{function i(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),t}const ke=["\u30AD\u30E3\u30E9\u540D\u307E\u305F\u306F\u4F5C\u54C1\u540D\u3067\u3055\u304C\u3059","\u5834\u9762\u540D\u307E\u305F\u306F\u4F5C\u54C1\u540D\u3067\u3055\u304C\u3059"];function Be(){const t=q();V();const[s,i]=r.exports.useState(1),[g,c]=r.exports.useState([]),[u,v]=r.exports.useState(null),[h,k]=r.exports.useState(!1),[w,C]=r.exports.useState([]),[N,O]=r.exports.useState([]),[D,B]=r.exports.useState([]),[$,m]=r.exports.useState([]),[y,E]=r.exports.useState([]),[A,_]=r.exports.useState(null),[K,x]=xe();r.exports.useEffect(()=>{let n=window.innerHeight;document.getElementById("character_select").style.height=n+"px";let a=sessionStorage.register_id||null,p=sessionStorage.background||null,d=sessionStorage.user_list||null;if(d&&c(JSON.parse(d)),p&&v(JSON.parse(p)),!a){a=pe();var L=JSON.stringify({register_id:a}),j={method:"post",url:`${T}/register_id`,headers:{"Content-Type":"application/json"},data:L};b(j).then(f=>{sessionStorage.setItem("register_id",a)}).catch(f=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})}let I=JSON.stringify({user_id:a,search_query:"",chosen_chara_ids:"",chosen_world_ids:""}),l={method:"post",url:`${T}/get_chara_list`,headers:{"Content-Type":"application/json"},data:I};b(l).then(f=>{C(f.data.chara_list)}).catch(f=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})});let F=JSON.stringify({user_id:a,search_query:"",chosen_chara_ids:"",chosen_world_ids:""}),z={method:"post",url:`${T}/get_world_list`,headers:{"Content-Type":"application/json"},data:F};b(z).then(f=>{O(f.data.world_list)}).catch(f=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})});let S={method:"post",url:`${T}/get_autocomplete_chara`,headers:{"Content-Type":"application/json"},data:{}};b(S).then(f=>{m(f.data.auto_complete),E(f.data.auto_complete)}).catch(f=>{});let J={method:"post",url:`${T}/get_autocomplete_world`,headers:{"Content-Type":"application/json"},data:{}};b(J).then(f=>{B(f.data.auto_complete)}).catch(f=>{})},[]),r.exports.useEffect(()=>{u&&g.length>0?k(!0):k(!1)},[g,u]);const R=n=>{let a=g,p=w.filter(d=>d.chara_id==n)[0];if(a==null?void 0:a.map(d=>d.chara_id).includes(n)){for(let d=0;d<a.length;d++)a[d].chara_id===n&&(a.splice(d,1),d--);c([...a])}else a.length<3&&(a.push(p),c([...a]))},G=()=>{let n=sessionStorage.register_id||null,a=JSON.stringify({user_id:n,chosen_chara_ids:g.map(d=>d.chara_id).toString(),chosen_world_ids:[u.world_id].toString()}),p={method:"post",url:`${T}/generate_outline`,headers:{"Content-Type":"application/json"},data:a};b(p).then(d=>{sessionStorage.setItem("outline_id",d.data.outline_id),sessionStorage.setItem("background",JSON.stringify(u)),sessionStorage.setItem("user_list",JSON.stringify(g)),sessionStorage.removeItem("outline_data"),t("/synopsis",{state:{}})}).catch(d=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})},Q=n=>{n.preventDefault();let a=sessionStorage.register_id||null,p=A,d=g.map(I=>I.chara_id).toString(),L="";u&&(L=[u.world_id].toString());let j=JSON.stringify({user_id:a,search_query:p,chosen_chara_ids:d,chosen_world_ids:L});if(s==1){let I={method:"post",url:`${T}/get_chara_list`,headers:{"Content-Type":"application/json"},data:j};b(I).then(l=>{C(l.data.chara_list)}).catch(l=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})}else{let I={method:"post",url:`${T}/get_world_list`,headers:{"Content-Type":"application/json"},data:j};b(I).then(l=>{O(l.data.world_list)}).catch(l=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})}},X=n=>a=>{a.stopPropagation();let p=g;for(let d=0;d<p.length;d++)p[d].chara_id===n&&(p.splice(d,1),d--);c([...p])};return o("div",{className:"container",id:"character_select",children:[o("div",{className:"container-wrap",children:[o("div",{className:"common-header",children:[e("div",{className:"common-header-title01",children:"-\u4F5C\u54C1\u30EA\u30DF\u30C3\u30AF\u30B9-"}),e("div",{className:"common-header-title02",children:"\u30DE\u305C\u3066"})]}),o("div",{className:"preview",children:[o("div",{className:"preview-part",onClick:()=>{i(1),E($),_(null)},children:[o("div",{className:"preview-img-part",children:[g==null?void 0:g.map(n=>e("div",{style:{backgroundImage:`url(${n.img_url})`},className:"avatar-preview",children:o("div",{className:"avatar-preview-close",onClick:X(n.chara_id),children:[e("span",{}),e("span",{})]})},n.chara_id)),g.length==0&&e("div",{className:"avatar-preview",style:{backgroundImage:"url(/assets/image/default-avatar.png)"}})]}),e("div",{className:s===1?"preview-title-part active":"preview-title-part",children:"\u30AD\u30E3\u30E9"})]}),o("div",{className:"preview-part",onClick:()=>{i(2),E(D),_(null)},children:[e("div",{className:"preview-img-part",children:e("div",{style:{backgroundImage:`url(${u!=null?u.img_url:"/assets/image/point-bg.png"})`},className:u!=null?"world-preview":"world-none-preview"})}),e("div",{className:s===2?"preview-title-part active":"preview-title-part",children:"\u30B7\u30C1\u30E5\u30A8\u30FC\u30B7\u30E7\u30F3"})]})]}),o("div",{className:"point-select",children:[e("div",{className:"point-search",children:o("form",{onSubmit:Q,children:[e(_e,{value:A,onChange:(n,a)=>{typeof a=="string"?_(a):a&&a.inputValue?_(a.inputValue):a&&a.label?_(a.label):_(a)},filterOptions:(n,a)=>Ne(n,a),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:y,getOptionLabel:n=>typeof n=="string"?n:n.label,renderOption:(n,a)=>e("li",Z(Y({},n),{children:a.label})),renderInput:n=>e(fe,Z(Y({},n),{label:"",placeholder:ke[s-1],onChange:a=>{_(a.target.value)}}))}),e("button",{className:"search-btn",children:e("img",{src:"/assets/image/point-search.png",alt:""})})]})}),e("div",{className:"point-intro",children:"\u753B\u50CF\u306FBing\u306E\u691C\u7D22\u7D50\u679C\u3092\u3082\u3068\u306B\u8868\u793A\u3057\u3066\u3044\u307E\u3059"}),o("div",{className:"point-body",style:{height:`calc(${x}px - 305px)`},children:[s===1&&e("div",{className:"point-body-wrap",children:w==null?void 0:w.map((n,a)=>e("div",{style:{backgroundImage:`url(${n.img_url})`},onClick:()=>R(n.chara_id),className:`${g.map(p=>p.chara_id).includes(n.chara_id)?"active":""} character-item`,children:e("span",{})},a))}),s==2&&e("div",{className:"point-body-wrap",children:N==null?void 0:N.map((n,a)=>e("div",{style:{backgroundImage:`url(${n.img_url})`},className:`${(u==null?void 0:u.img_url)==n.img_url?"active":""} location-item`,onClick:p=>{v(n)},children:e("span",{})},a))})]})]})]}),o("button",{onClick:G,className:`character-add-btn ${h?"active":""}`,disabled:!h,children:[e("img",{src:"/assets/image/imgpsh_fullsize_anim.png",alt:""}),"\u30DE\u305C\u308B"]})]})}const ee="https://mazete-api-dev.pechakucha.ai";function $e(){const[t,s]=r.exports.useState([0,0]);return r.exports.useLayoutEffect(()=>{function i(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),t}function Ie(){const t=q(),s=r.exports.useRef(),[i,g]=r.exports.useState(!1),[c,u]=r.exports.useState(!0),[v,h]=r.exports.useState(""),[k,w]=r.exports.useState([]),[C,N]=r.exports.useState(null),[O,D]=r.exports.useState(10);$e(),r.exports.useEffect(()=>{var y;let m=((y=s==null?void 0:s.current)==null?void 0:y.scrollHeight)+"px";D(m)},[v]),r.exports.useEffect(()=>{let m=window.innerHeight;document.getElementById("loading_synposis").style.height=m+"px";let y=sessionStorage.register_id||null,E=sessionStorage.outline_id||null,A=sessionStorage.background||null;N(JSON.parse(A));let _=JSON.stringify({user_id:y,outline_id:E}),K={method:"post",url:`${ee}/get_outline`,headers:{"Content-Type":"application/json"},data:_};b(K).then(x=>{x.data.generated&&x.data.outline&&!x.data.error?(u(!1),w(x.data.chara_img_urls),h(x.data.outline)):t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})}).catch(x=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})},[]);const B=()=>{let m=sessionStorage.register_id||null,y=sessionStorage.outline_id||null;sessionStorage.setItem("outline_data",JSON.stringify(v));let E=JSON.stringify({user_id:m,outline_id:y}),A={method:"post",url:`${ee}/generate_story`,headers:{"Content-Type":"application/json"},data:E};b(A).then(_=>{t(`/talk/${_.data.story_id}`,{state:{}})}).catch(_=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})};r.exports.useEffect(()=>{s.current&&i&&s.current.focus()},[i]);const $=()=>{g(!1);let m=sessionStorage.register_id||null,y=sessionStorage.outline_id||null,E=JSON.stringify({user_id:m,outline_id:y,outline:v}),A={method:"post",url:`${ee}/update_outline`,headers:{"Content-Type":"application/json"},data:E};b(A).then(_=>{w(_.data.new_chara_img_urls)}).catch(_=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})};return o("div",{className:"container",id:"loading_synposis",children:[o("div",{className:"container-wrap",children:[e("div",{className:`ls-top ${i?"editing":""}`,children:e("div",{className:"ls-top-wrap",style:{backgroundImage:`url(${C==null?void 0:C.img_url}`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:e("div",{className:"ls-top-body",children:k.map((m,y)=>e("div",{className:"ls-top-item",style:{backgroundImage:`url(${m})`}},y))})})}),o("div",{className:"ls-main",children:[e("div",{className:"ls-main-title",children:"\u307E\u3048\u304C\u304D"}),o("div",{className:"ls-main-loading-text",children:[c&&o("div",{className:"ls-main-loading-part",children:[e("img",{src:"/assets/image/white-loading.gif",alt:""}),e("span",{children:"\u4E0B\u66F8\u304D\u6E96\u5099\u4E2D"})]}),!c&&e("textarea",{style:{height:O},ref:s,className:"ls-main-loading-wrap",value:v,disabled:!i,onChange:m=>{h(m.target.value)},onBlur:$})]}),!i&&o("a",{className:"ls-main-edit-btn",onClick:()=>{s.current.focus(),g(!0)},children:[e("span",{children:"\u7DE8\u96C6"}),e("img",{src:"/assets/image/edit-icon.png",alt:""})]}),!i&&e("div",{className:"ls-main-making-btn-part",children:e("button",{onClick:B,className:c?"ls-main-making-btn":"ls-main-making-btn active",disabled:c,children:"\u3053\u306E\u4E16\u754C\u7DDA\u306B\u5165\u308B"})})]})]}),!i&&e("button",{className:"back-to-btn",onClick:()=>{let m=sessionStorage.user_list||null;t("/",{state:{user_list:m}})},children:e("img",{src:"/assets/image/back-to-img.png",alt:""})})]})}const U="https://mazete-api-dev.pechakucha.ai",Oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:260,bgcolor:"background.paper",borderRadius:"10px",p:4};function ie(t){return new Promise(s=>setTimeout(s,t))}function Te(){const[t,s]=r.exports.useState([0,0]);return r.exports.useLayoutEffect(()=>{function i(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),t}function De(){const t=q(),[s,i]=r.exports.useState(!0),[g,c]=r.exports.useState(!0),[u,v]=r.exports.useState(null),[h,k]=r.exports.useState(0),[w,C]=r.exports.useState(null),[N,O]=r.exports.useState(null),[D,B]=r.exports.useState([]),[$,m]=r.exports.useState(!1),[y,E]=r.exports.useState(!1),[A,_]=r.exports.useState(!1),[K,x]=Te();let{id:R}=be();const[G,Q]=r.exports.useState(!1),X=()=>{Q(!0);let l=sessionStorage.register_id||null,F=JSON.stringify({user_id:l,story_id:R}),z={method:"post",url:`${U}/get_shared_message`,headers:{"Content-Type":"application/json"},data:F};b(z).then(S=>{t("/movie",{state:{message:S.data.message,movie_url:S.data.movie_url}})}).catch(S=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})};r.exports.useEffect(()=>{let l=sessionStorage.register_id||null,F=JSON.stringify({user_id:l,story_id:R}),z={method:"post",url:`${U}/get_story`,headers:{"Content-Type":"application/json"},data:F};b(z).then(S=>{if(S.data.generated&&!S.data.error){v(S.data);let J=S.data.story.map(f=>{const W=new Image;return W.src=f.chara_img_url,W});c(J),i(!1)}else t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})}).catch(S=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})},[]),r.exports.useEffect(()=>{u&&n()},[u,h]),r.exports.useEffect(async()=>{if(u){let l=u.story;await ie(1),C(l[h].position)}},[N]);const n=()=>{let l=u.story;l[h]&&(O(l[h].chara_img_url),l[h].multiple?(m(!0),B(l[h].content)):(m(!1),a(l[h].content)))},a=async l=>{_(!0);for(var F=0;F<l.length;)B([l.substring(0,F+1)]),F++,await ie(75);_(!1),u.story.length-1==h&&E(!0)},p=l=>{$&&(m(!1),a(l))},d=()=>{!A&&!$&&u.story.length-1>h&&k(h+1)},L=()=>{h===0&&t("/synopsis",{state:{}}),h!=0&&!A&&(k(h-1),E(!1))},j=l=>{l.preventDefault(),sessionStorage.removeItem("outline_id"),sessionStorage.removeItem("background"),sessionStorage.removeItem("user_list"),t("/",{state:{}})},I=l=>{if(!$)return;let F=sessionStorage.register_id||null;i(!0);let z=JSON.stringify({user_id:F,story_id:R,chosen_content:l}),S={method:"post",url:`${U}/generate_rest_story`,headers:{"Content-Type":"application/json"},data:z};b(S).then(J=>{let f=J.data.story_id,W=JSON.stringify({user_id:F,story_id:f}),ne={method:"post",url:`${U}/get_rest_story`,headers:{"Content-Type":"application/json"},data:W};b(ne).then(M=>{if(M.data.generated&&!M.data.error){u.story.splice(h+1,u.story.length-h-1),u.story=u.story.concat(M.data.story),v(u),p(l);let oe=M.data.story.map(le=>{const te=new Image;return te.src=le.chara_img_url,te});c(oe),i(!1)}else t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})}).catch(M=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})}).catch(J=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})};return o(ue,{children:[s&&e("div",{className:"container",id:"loading_adventure",children:e("div",{className:"container-wrap",children:o("div",{className:"la-wrap",children:[e("img",{src:"/assets/image/black-loading.gif",alt:""}),e("span",{children:"\u6E96\u5099\u4E2D"})]})})}),!s&&o("div",{className:"container",id:"adventure_state",style:{height:x},children:[o("div",{className:"container-wrap",onClick:d,children:[e("div",{className:"as-thumb",style:{backgroundImage:`url(${u==null?void 0:u.background_url})`},children:N&&e("img",{src:N,alt:"",className:`as-thumb-character ${w==0?"lb":w==1?"mb":"rb"}`})}),e("div",{className:"as-text",children:D.map((l,F)=>e("div",{className:`as-text-wrap ${A||$||y?"":"arrow"}`,style:{minHeight:`${$?"unset":"80px"}`},onClick:()=>{I(l)},children:l},F))})]}),e("button",{className:"back-to-btn",onClick:L,children:e("img",{src:h==0?"/assets/image/back-to-img.png":"/assets/image/back.png",alt:""})}),y&&o("div",{className:"text-select-btn-group",children:[e("a",{onClick:j,className:"final-btn",children:"\u30C8\u30C3\u30D7\u3078"}),e("a",{className:"final-btn",onClick:X,children:"\u30B7\u30A7\u30A2"})]})]}),e(re,{open:G,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:o(P,{sx:Oe,children:[e(P,{id:"modal-modal-title",variant:"h6",component:"h2",style:{textAlign:"center"},children:e("img",{src:"/assets/image/white-loading.gif",alt:""})}),e(Ce,{id:"modal-modal-description",sx:{mt:2},children:"\u30B7\u30A7\u30A2\u7528\u306E\u52D5\u753B\u3092\u4F5C\u6210\u4E2D..."})]})})]})}function ze(){const t=V();return e("div",{className:"flex-center position-ref full-height full-width bg-white",children:e("div",{className:"message",style:{padding:"10px"},dangerouslySetInnerHTML:{__html:t.state.message}})})}const Le="https://mazete-api-dev.pechakucha.ai",je={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:"10px",p:4};function Je(){const t=q(),s=V(),[i,g]=r.exports.useState(!1),[c,u]=r.exports.useState(s.state.message),v=()=>{g(!1)},h=C=>{C.preventDefault(),sessionStorage.removeItem("outline_id"),sessionStorage.removeItem("background"),sessionStorage.removeItem("user_list"),t("/",{state:{}})},k=()=>{ye.exports.saveAs(s.state.movie_url,"video")},w=C=>{let N=sessionStorage.register_id||null,O=JSON.stringify({user_id:N,message:c,movie_url:s.state.movie_url}),D={method:"post",url:`${Le}/get_twitter_authenticate_url`,headers:{"Content-Type":"application/json"},data:O};b(D).then(B=>{localStorage.setItem("background",sessionStorage.background),localStorage.setItem("outline_data",sessionStorage.outline_data),localStorage.setItem("outline_id",sessionStorage.outline_id),localStorage.setItem("register_id",sessionStorage.register_id),localStorage.setItem("user_list",sessionStorage.user_list),window.location.href=B.data.authenticate_url}).catch(B=>{t("/error",{state:{message:"\u30B9\u30C8\u30FC\u30EA\u30FC\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002<br/>\u6642\u9593\u3092\u304A\u3044\u3066\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"}})})};return o("div",{className:"container",id:"movie",children:[o("div",{className:"container-wrap",children:[e("div",{className:"movie-header",children:e("div",{className:"movie-header-title",children:"\u30B7\u30A7\u30A2"})}),o("div",{className:"movie_area",children:[o("div",{className:"movie_box",children:[e("span",{children:"\u52D5\u753B"}),e("div",{className:"movie_box_video",children:e("video",{id:"talk_movie",src:s.state.movie_url,autoPlay:!0,muted:!0,controls:!0})}),o("div",{className:"flex_box",children:[e("div",{className:"share_box",children:o("a",{onClick:()=>{g(!0)},children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"16",viewBox:"0 0 20 16",children:e("path",{fill:"#FFF",d:"M20 1.896c-.737.32-1.526.537-2.356.637.847-.5 1.5-1.291 1.805-2.233-.793.462-1.67.8-2.606.98C16.093.491 15.024 0 13.846 0 11.58 0 9.744 1.808 9.744 4.037c0 .317.033.625.106.921-3.412-.166-6.438-1.775-8.46-4.22-.352.595-.555 1.291-.555 2.029 0 1.4.729 2.637 1.83 3.362-.677-.016-1.313-.2-1.864-.504v.05c0 1.958 1.416 3.587 3.293 3.958-.343.092-.708.142-1.08.142-.263 0-.522-.025-.772-.075.521 1.604 2.039 2.77 3.836 2.804-1.403 1.084-3.175 1.73-5.099 1.73-.33 0-.657-.021-.979-.059C1.81 15.333 3.967 16 6.281 16c7.557 0 11.685-6.154 11.685-11.492 0-.175-.005-.35-.013-.52.801-.571 1.496-1.28 2.047-2.092z"})}),e("span",{children:"\u30C4\u30A4\u30FC\u30C8"})]})}),e("div",{className:"download_box",children:o("a",{onClick:k,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"22",viewBox:"0 0 19 22",children:e("path",{fill:"#FFF",d:"M9.484 15.139c.264 0 .528-.098.791-.362l3.262-3.134c.176-.176.283-.372.283-.635 0-.508-.42-.86-.898-.86-.254 0-.498.098-.674.293l-1.27 1.348-.605.752.127-1.445v-9.98c0-.538-.45-1.007-1.016-1.007-.566 0-1.025.47-1.025 1.006v9.98l.127 1.446-.606-.752-1.27-1.348c-.175-.195-.419-.293-.673-.293-.488 0-.898.352-.898.86 0 .263.107.459.283.635l3.262 3.134c.263.264.527.362.8.362zm5.616 6.23c2.177 0 3.33-1.152 3.33-3.31V8.576c0-2.158-1.153-3.31-3.33-3.31H12.53v2.236h2.364c.84 0 1.308.43 1.308 1.318v9.004c0 .88-.469 1.309-1.308 1.309H4.025c-.85 0-1.298-.43-1.298-1.309V8.82c0-.888.449-1.318 1.298-1.318h2.403V5.266H3.82c-2.168 0-3.33 1.152-3.33 3.31v9.483c0 2.158 1.162 3.31 3.33 3.31H15.1z"})}),e("span",{children:"\u4FDD\u5B58"})]})})]})]}),e("div",{className:"footer_box",children:e("div",{className:"recreate_box",children:o("div",{id:"back_button_footer_talk",onClick:h,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:e("path",{fill:"#999",fillRule:"evenodd",d:"M10 0c.828 0 1.5.672 1.5 1.5v7h7c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5h-7.001l.001 7c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5l-.001-7H1.5C.672 11.5 0 10.828 0 10s.672-1.5 1.5-1.5h7v-7C8.5.672 9.172 0 10 0z"})}),e("span",{children:"\u3082\u3046\u4E00\u5EA6\u4F5C\u308B"})]})})})]})]}),e("button",{className:"back-to-btn",onClick:()=>{let C=sessionStorage.user_list||null;t("/",{state:{user_list:C}})},children:e("img",{src:"/assets/image/back-to-img.png",alt:""})}),e(re,{open:i,onClose:v,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:o(P,{sx:je,children:[e(P,{children:e("textarea",{className:"twitter-message",value:c,onChange:C=>{u(C.target.value)}})}),e(P,{display:"flex",justifyContent:"flex-end",children:e("div",{className:"share-btn",onClick:w,children:e("span",{children:"Twitter\u306B\u6295\u7A3F"})})})]})})]})}function He(){return e(Fe,{children:o(Se,{children:[e(H,{path:"/",element:e(Be,{})}),e(H,{path:"/synopsis",element:e(Ie,{})}),e(H,{path:"/talk/:id",element:e(De,{})}),e(H,{path:"/movie",element:e(Je,{})}),e(H,{path:"/upload_twitter",element:e(UploadTwitter,{})}),e(H,{path:"/error",element:e(ze,{})})]})})}function Re(){return e(ue,{children:e(He,{})})}we.render(e(Ee.StrictMode,{children:e(Re,{})}),document.getElementById("root"));
